:textile
  h2. What

  Currently the API is read-only.

  This API uses "Helmet Library data":http://data.kirjastot.fi and provides search results in json, marcxml and jsonp format.

  h2. How

  At the moment you can perform searches by: author, title or isbn.

  Depending on the format you want the search result to be in, you can change the parameter "format" in the url to either 'json' or 'marcxml'

  h3. By author:

  Example url

  _http://#{HOST}/search/author.json?query=Campbell_
  *OR*
  _http://#{HOST}/search/author.marcxml?query=Campbell_
      
  h3. By title:

  Example url

  _http://#{HOST}/search/title.json?query=raportti_
  *OR*
  _http://#{HOST}/search/title.marcxml?query=raportti_
    
  h3. By ISBN:
  
  Example url

  _http://#{HOST}/search/isbn.json?query=6420614617953_
  *OR*
  _http://#{HOST}/search/isbn.marcxml?query=6420614617953_

  h2. Output

  Depending on the format you requested in the url you can get:
  
  h3. JSON

  Output example

:plain
  <div class="highlight"><pre><span class="p">{</span>
    <span class="s2">&quot;leader&quot;</span><span class="o">:</span><span class="s2">&quot;01225ngm  2200397   4500&quot;</span><span class="p">,</span>
    <span class="s2">&quot;title_main&quot;</span><span class="o">:</span><span class="s2">&quot;007 ja kuoleman katse /&quot;</span><span class="p">,</span>
    <span class="s2">&quot;helmet_id&quot;</span><span class="o">:</span><span class="s2">&quot;kr30844916&quot;</span><span class="p">,</span>
    <span class="s2">&quot;author_main&quot;</span><span class="o">:</span><span class="s2">&quot;Glen, John&quot;</span><span class="p">,</span>
    <span class="s2">&quot;author_group&quot;</span><span class="o">:</span>
      <span class="p">[</span>
        <span class="s2">&quot;Glen, John&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Mailbaum, Richard&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Wilson, Michael G.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Moore, Roger&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Roberts, Tanya&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Jones, Grace&quot;</span>
      <span class="p">],</span>
    <span class="s2">&quot;description&quot;</span><span class="o">:</span>
      <span class="p">[</span>
        <span class="s2">&quot;1 videokas. (2 h 5 min) :&quot;</span>
      <span class="p">]</span>
  <span class="p">}</span>
  </pre></div>

  
:textile
  h3. MARCXML

  Output example

:plain
  <div class="highlight"><pre><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span> 
  <span class="nt">&lt;collection</span> <span class="na">xmlns=</span><span class="s">&quot;http://www.loc.gov/MARC21/slim&quot;</span><span class="nt">&gt;</span> 
     <span class="nt">&lt;record&gt;</span> 
    <span class="nt">&lt;leader&gt;</span>00485nam  2200169   4500<span class="nt">&lt;/leader&gt;</span> 
    <span class="nt">&lt;controlfield</span> <span class="na">tag=</span><span class="s">&quot;001&quot;</span><span class="nt">&gt;</span>kr2043314X<span class="nt">&lt;/controlfield&gt;</span> 
    <span class="nt">&lt;controlfield</span> <span class="na">tag=</span><span class="s">&quot;005&quot;</span><span class="nt">&gt;</span>20021115010101.0<span class="nt">&lt;/controlfield&gt;</span> 
    <span class="nt">&lt;controlfield</span> <span class="na">tag=</span><span class="s">&quot;008&quot;</span><span class="nt">&gt;</span>000905s1979    xx                  fin  <span class="nt">&lt;/controlfield&gt;</span> 
    <span class="nt">&lt;datafield</span> <span class="na">tag=</span><span class="s">&quot;035&quot;</span> <span class="na">ind1=</span><span class="s">&quot; &quot;</span> <span class="na">ind2=</span><span class="s">&quot; &quot;</span><span class="nt">&gt;</span> 
     <span class="nt">&lt;subfield</span> <span class="na">code=</span><span class="s">&quot;a&quot;</span><span class="nt">&gt;</span>(FI-HELMET)b1000002<span class="nt">&lt;/subfield&gt;</span> 
    <span class="nt">&lt;/datafield&gt;</span> 
    <span class="nt">&lt;datafield</span> <span class="na">tag=</span><span class="s">&quot;041&quot;</span> <span class="na">ind1=</span><span class="s">&quot;0&quot;</span> <span class="na">ind2=</span><span class="s">&quot; &quot;</span><span class="nt">&gt;</span> 
     <span class="nt">&lt;subfield</span> <span class="na">code=</span><span class="s">&quot;a&quot;</span><span class="nt">&gt;</span>fin<span class="nt">&lt;/subfield&gt;</span> 
    <span class="nt">&lt;/datafield&gt;</span> 
    <span class="nt">&lt;datafield</span> <span class="na">tag=</span><span class="s">&quot;110&quot;</span> <span class="na">ind1=</span><span class="s">&quot;1&quot;</span> <span class="na">ind2=</span><span class="s">&quot; &quot;</span><span class="nt">&gt;</span> 
     <span class="nt">&lt;subfield</span> <span class="na">code=</span><span class="s">&quot;a&quot;</span><span class="nt">&gt;</span>Helsingin kaupunki.<span class="nt">&lt;/subfield&gt;</span> 
     <span class="nt">&lt;subfield</span> <span class="na">code=</span><span class="s">&quot;b&quot;</span><span class="nt">&gt;</span>Lasten päivähoitovirasto<span class="nt">&lt;/subfield&gt;</span> 
    <span class="nt">&lt;/datafield&gt;</span> 
    <span class="nt">&lt;datafield</span> <span class="na">tag=</span><span class="s">&quot;245&quot;</span> <span class="na">ind1=</span><span class="s">&quot;1&quot;</span> <span class="na">ind2=</span><span class="s">&quot;0&quot;</span><span class="nt">&gt;</span> 
     <span class="nt">&lt;subfield</span> <span class="na">code=</span><span class="s">&quot;a&quot;</span><span class="nt">&gt;</span>0-3 -vuotiaiden kehittämistyöryhmän raportti 1 :<span class="nt">&lt;/subfield&gt;</span> 
     <span class="nt">&lt;subfield</span> <span class="na">code=</span><span class="s">&quot;b&quot;</span><span class="nt">&gt;</span>liite 1: välineistö ja materiaali<span class="nt">&lt;/subfield&gt;</span> 
    <span class="nt">&lt;/datafield&gt;</span> 
    <span class="nt">&lt;datafield</span> <span class="na">tag=</span><span class="s">&quot;260&quot;</span> <span class="na">ind1=</span><span class="s">&quot; &quot;</span> <span class="na">ind2=</span><span class="s">&quot; &quot;</span><span class="nt">&gt;</span> 
     <span class="nt">&lt;subfield</span> <span class="na">code=</span><span class="s">&quot;a&quot;</span><span class="nt">&gt;</span>Helsinki,<span class="nt">&lt;/subfield&gt;</span> 
     <span class="nt">&lt;subfield</span> <span class="na">code=</span><span class="s">&quot;c&quot;</span><span class="nt">&gt;</span>1979<span class="nt">&lt;/subfield&gt;</span> 
    <span class="nt">&lt;/datafield&gt;</span> 
    <span class="nt">&lt;datafield</span> <span class="na">tag=</span><span class="s">&quot;300&quot;</span> <span class="na">ind1=</span><span class="s">&quot; &quot;</span> <span class="na">ind2=</span><span class="s">&quot; &quot;</span><span class="nt">&gt;</span> 
     <span class="nt">&lt;subfield</span> <span class="na">code=</span><span class="s">&quot;a&quot;</span><span class="nt">&gt;</span>[16 s.] :<span class="nt">&lt;/subfield&gt;</span> 
     <span class="nt">&lt;subfield</span> <span class="na">code=</span><span class="s">&quot;b&quot;</span><span class="nt">&gt;</span>nid.<span class="nt">&lt;/subfield&gt;</span> 
    <span class="nt">&lt;/datafield&gt;</span> 
    <span class="nt">&lt;datafield</span> <span class="na">tag=</span><span class="s">&quot;546&quot;</span> <span class="na">ind1=</span><span class="s">&quot; &quot;</span> <span class="na">ind2=</span><span class="s">&quot; &quot;</span><span class="nt">&gt;</span> 
     <span class="nt">&lt;subfield</span> <span class="na">code=</span><span class="s">&quot;a&quot;</span><span class="nt">&gt;</span>suomi<span class="nt">&lt;/subfield&gt;</span> 
    <span class="nt">&lt;/datafield&gt;</span> 
    <span class="nt">&lt;datafield</span> <span class="na">tag=</span><span class="s">&quot;588&quot;</span> <span class="na">ind1=</span><span class="s">&quot; &quot;</span> <span class="na">ind2=</span><span class="s">&quot; &quot;</span><span class="nt">&gt;</span> 
     <span class="nt">&lt;subfield</span> <span class="na">code=</span><span class="s">&quot;a&quot;</span><span class="nt">&gt;</span>180.2<span class="nt">&lt;/subfield&gt;</span> 
    <span class="nt">&lt;/datafield&gt;</span> 
    <span class="nt">&lt;datafield</span> <span class="na">tag=</span><span class="s">&quot;599&quot;</span> <span class="na">ind1=</span><span class="s">&quot; &quot;</span> <span class="na">ind2=</span><span class="s">&quot; &quot;</span><span class="nt">&gt;</span> 
     <span class="nt">&lt;subfield</span> <span class="na">code=</span><span class="s">&quot;a&quot;</span><span class="nt">&gt;</span>KIRJA / BOK<span class="nt">&lt;/subfield&gt;</span> 
    <span class="nt">&lt;/datafield&gt;</span> 
    <span class="nt">&lt;datafield</span> <span class="na">tag=</span><span class="s">&quot;913&quot;</span> <span class="na">ind1=</span><span class="s">&quot;0&quot;</span> <span class="na">ind2=</span><span class="s">&quot;0&quot;</span><span class="nt">&gt;</span> 
     <span class="nt">&lt;subfield</span> <span class="na">code=</span><span class="s">&quot;a&quot;</span><span class="nt">&gt;</span>*03VKR199000<span class="nt">&lt;/subfield&gt;</span> 
    <span class="nt">&lt;/datafield&gt;</span> 
   <span class="nt">&lt;/record&gt;</span> 
  <span class="nt">&lt;/collection&gt;</span>
  </pre></div>
  

:textile
  h2. Pagination for JSON and MARCXML format
= hilight :javascript, %s|{"current_page":1,"per_page":5,"total_entries":0,"entries":[]}|

:textile
  Every search result in json format will start always like in the example above.

  If the number of '_total_entries_' is bigger that the '_per_page_' attribute, you can change the '_current_page_' by adding to the end of the url '_&page=[the number of the page you wish to view]_' like in the example below:
  _http://#{HOST}/search/title.json?query=ja&page=2_

